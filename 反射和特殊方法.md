# 三十四、反射
&emsp;&emsp;&emsp;&emsp;反射机制是动态语言的一大关键特性。反射机制是指在程序运行过程中，对于任意一个类都可以获取该类的属性和方法；对于任意一个对象都可以调用其属性和方法。也即是**动态获取程序信息以及动态调用对象的功能**

## 34.1 反射机制的实现
* `hasattr(__obj, __name:str)`: 判断属性`name`是否存在于对象`obj`，存在返回`True`，不存在返回`False`
    > `hasattr`被调用时，会通过对象调用方法，如果报错则返回`False`, 否则返回`True`
* `getattr(__obj, __name:str, __default)`: 获取属性`name`在对象`obj`中的值
    > `getattr`被调用时，会触发特殊方法`__getattribute__`
* `setattr(__obj, __name:str, __value)`: 设置属性`name`在对象`obj`中的值`value`
    > `setattr`被调用时，会触发特殊方法`__setattr__`
* `delattr(__obj, __name:str)`: 删除对象`obj`下的属性`name`
    > `delattr`被调用时，会触发`__delattr__`方法

## 34.2 反射案例
```python
class Ftp:

    def put(self):
        print("上传")

    def get(self):
        print("下载")

    def interactive(self):
        method = input("输入功能(put, get)名称: ").strip()
        if hasattr(self, method):  # 判断是否存在属性
            getattr(self, method)()  # 调用
        else:
            print("输入指令不存在")


ftp = Ftp()
while True:
    ftp.interactive()
```

# 三十五、特殊方法
有python提供在特殊时间**自动**由python解释器调用的具有特殊含义的方法。它是由双下划线(`__`)开头和结尾命名的方法

## 35.1 常用的特殊方法



